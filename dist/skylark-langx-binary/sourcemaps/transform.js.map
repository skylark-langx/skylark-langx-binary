{"version":3,"sources":["transform.js"],"names":["define","binary","Memory","getTypeOf","stringToArrayLike","arrayLikeToString","identity","input","arrayLikeToArrayLike","arrayFrom","arrayTo","i","length","transform","outputType","inputType","string","array","Array","arraybuffer","buffer","uint8array","Uint8Array","memory","Buffer","alloc","from","byteLength"],"mappings":";;;;;;;AAAAA,OAAO,CACH,WACA,WACA,gBACA,wBACA,yBACF,SAASC,EAAOC,EAAOC,EAAUC,EAAkBC,GAEjD,SAASC,EAASC,GACd,OAAOA,CACX,CAEA,SAASC,EAAqBC,EAAWC,GACrC,IAAK,IAAIC,EAAI,EAAGA,EAAIF,EAAUG,OAAQD,CAAC,GACnCD,EAAQC,GAAKF,EAAUE,GAE3B,OAAOD,CACX,CAEiB,SAAbG,EAAuBC,EAAYP,GAInC,IAGIQ,EAHJ,OAHKR,EAAAA,GACO,GAEPO,GAGDC,EAAYZ,EAAUI,CAAK,EAClBM,EAAUE,GAAWD,GAAYP,CAAK,GAHxCA,CAKf,CA2EA,OA1EAM,EAAkB,OAAI,CAClBG,OAAUV,EACVW,MAAS,SAAUV,GACf,OAAOH,EAAkBG,EAAO,IAAIW,MAAMX,EAAMK,MAAM,CAAC,CAC3D,EACAO,YAAe,SAAUZ,GACrB,OAAOM,EAAkB,OAAc,WAAEN,CAAK,EAAEa,MACpD,EACAC,WAAc,SAAUd,GACpB,OAAOH,EAAkBG,EAAO,IAAIe,WAAWf,EAAMK,MAAM,CAAC,CAChE,EACAW,OAAU,SAAUhB,GAEhB,OAAOH,EAAkBG,EAAOiB,OAAOC,MAAMlB,EAAMK,MAAM,CAAC,CAC9D,CACJ,EACAC,EAAiB,MAAI,CACjBG,OAAUX,EACVY,MAASX,EACTa,YAAe,SAAUZ,GACrB,OAAO,IAAIe,WAAWf,CAAK,EAAEa,MACjC,EACAC,WAAc,SAAUd,GACpB,OAAO,IAAIe,WAAWf,CAAK,CAC/B,EACAgB,OAAU,SAAUhB,GAEhB,OAAOL,EAAOwB,KAAKnB,CAAK,CAC5B,CACJ,EACAM,EAAuB,YAAI,CACvBG,OAAU,SAAUT,GAChB,OAAOF,EAAkB,IAAIiB,WAAWf,CAAK,CAAC,CAClD,EACAU,MAAS,SAAUV,GACf,OAAOC,EAAqB,IAAIc,WAAWf,CAAK,EAAG,IAAIW,MAAMX,EAAMoB,UAAU,CAAC,CAClF,EACAR,YAAeb,EACfe,WAAc,SAAUd,GACpB,OAAO,IAAIe,WAAWf,CAAK,CAC/B,EACAgB,OAAU,SAAUhB,GAEhB,OAAOL,EAAOwB,KAAK,IAAIJ,WAAWf,CAAK,CAAC,CAC5C,CACJ,EACAM,EAAsB,WAAI,CACtBG,OAAUX,EACVY,MAAS,SAAUV,GACf,OAAOC,EAAqBD,EAAO,IAAIW,MAAMX,EAAMK,MAAM,CAAC,CAC9D,EACAO,YAAe,SAAUZ,GACrB,OAAOA,EAAMa,MACjB,EACAC,WAAcf,EACdiB,OAAU,SAAUhB,GAEhB,OAAOL,EAAOwB,KAAKnB,CAAK,CAC5B,CACJ,EACAM,EAAkB,OAAI,CAClBG,OAAUX,EACVY,MAAS,SAAUV,GACf,OAAOC,EAAqBD,EAAO,IAAIW,MAAMX,EAAMK,MAAM,CAAC,CAC9D,EACAO,YAAe,SAAUZ,GACrB,OAAOM,EAAkB,OAAc,WAAEN,CAAK,EAAEa,MACpD,EACAC,WAAc,SAAUd,GACpB,OAAOC,EAAqBD,EAAO,IAAIe,WAAWf,EAAMK,MAAM,CAAC,CACnE,EACAW,OAAUjB,CACd,EAEOL,EAAOY,UAAYA,CAC9B,CAAC","file":"../transform.js","sourcesContent":["define([\r\n    \"./binary\",\r\n    \"./memory\",\r\n    \"./get-type-of\",\r\n    \"./string-to-arraylike\",\r\n    \"./arraylike-to-string\"\r\n],function(binary,Memory,getTypeOf,stringToArrayLike,arrayLikeToString){\r\n\r\n    function identity(input) {\r\n        return input;\r\n    }\r\n\r\n    function arrayLikeToArrayLike(arrayFrom, arrayTo) {\r\n        for (var i = 0; i < arrayFrom.length; i++) {\r\n            arrayTo[i] = arrayFrom[i];\r\n        }\r\n        return arrayTo;\r\n    }\r\n\r\n    var transform =  function (outputType, input) {\r\n        if (!input) {\r\n            input = '';\r\n        }\r\n        if (!outputType) {\r\n            return input;\r\n        }\r\n        var inputType = getTypeOf(input);\r\n        var result = transform[inputType][outputType](input);\r\n        return result;\r\n    };\r\n    transform['string'] = {\r\n        'string': identity,\r\n        'array': function (input) {\r\n            return stringToArrayLike(input, new Array(input.length));\r\n        },\r\n        'arraybuffer': function (input) {\r\n            return transform['string']['uint8array'](input).buffer;\r\n        },\r\n        'uint8array': function (input) {\r\n            return stringToArrayLike(input, new Uint8Array(input.length));\r\n        },\r\n        'memory': function (input) {\r\n            ///return stringToArrayLike(input, nodejsUtils.allocBuffer(input.length));\r\n            return stringToArrayLike(input, Buffer.alloc(input.length));\r\n        }\r\n    };\r\n    transform['array'] = {\r\n        'string': arrayLikeToString,\r\n        'array': identity,\r\n        'arraybuffer': function (input) {\r\n            return new Uint8Array(input).buffer;\r\n        },\r\n        'uint8array': function (input) {\r\n            return new Uint8Array(input);\r\n        },\r\n        'memory': function (input) {\r\n            ///return nodejsUtils.newBufferFrom(input);\r\n            return Memory.from(input);\r\n        }\r\n    };\r\n    transform['arraybuffer'] = {\r\n        'string': function (input) {\r\n            return arrayLikeToString(new Uint8Array(input));\r\n        },\r\n        'array': function (input) {\r\n            return arrayLikeToArrayLike(new Uint8Array(input), new Array(input.byteLength));\r\n        },\r\n        'arraybuffer': identity,\r\n        'uint8array': function (input) {\r\n            return new Uint8Array(input);\r\n        },\r\n        'memory': function (input) {\r\n            ///return nodejsUtils.newBufferFrom(new Uint8Array(input));\r\n            return Memory.from(new Uint8Array(input));\r\n        }\r\n    };\r\n    transform['uint8array'] = {\r\n        'string': arrayLikeToString,\r\n        'array': function (input) {\r\n            return arrayLikeToArrayLike(input, new Array(input.length));\r\n        },\r\n        'arraybuffer': function (input) {\r\n            return input.buffer;\r\n        },\r\n        'uint8array': identity,\r\n        'memory': function (input) {\r\n            ///return nodejsUtils.newBufferFrom(input);\r\n            return Memory.from(input);\r\n        }\r\n    };\r\n    transform['memory'] = {\r\n        'string': arrayLikeToString,\r\n        'array': function (input) {\r\n            return arrayLikeToArrayLike(input, new Array(input.length));\r\n        },\r\n        'arraybuffer': function (input) {\r\n            return transform['memory']['uint8array'](input).buffer;\r\n        },\r\n        'uint8array': function (input) {\r\n            return arrayLikeToArrayLike(input, new Uint8Array(input.length));\r\n        },\r\n        'memory': identity\r\n    };\r\n\r\n    return binary.transform = transform;\r\n});\r\n"]}